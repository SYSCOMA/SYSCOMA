<%- model_class = User -%>
<div class="page-header">
  <h1><%= t('users.plural_title', default: "Users") %></h1>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th><%= t('users.name', default: "name").titleize %></th>
      <th><%= t('helpers.actions', default: "Actions") %></th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= link_to user.name, user_path(user) %></td>
        <td>
          <% if user.id != current_user.id %>
            <%= link_to t('helpers.links.edit', default: "Edit"),
                      edit_user_path(user), class: 'btn btn-default btn-xs' %>
          
            <%= link_to t('helpers.links.destroy', default: "Delete"),
                      user_path(user),
                      method: :delete,
                      data: { confirm: t('helpers.links.confirm', default: 'Are you sure?') },
                      class: 'btn btn-xs btn-danger' %>
          <% else %>
            <%= link_to t('helpers.links.edit', default: "Edit"),
                      edit_user_registration_path, class: 'btn btn-default btn-xs' %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to t('helpers.links.new', default: "New"),
            new_user_path,
            class: 'btn btn-primary' %>
<%= link_to t('helpers.links.back', default: "Back"),
            :back, class: 'btn btn-default' %>